{% if product.metafields.custom.relacionados != blank %}
  <div class="gramajes-wrapper">
    <h5>Presentaciones:</h5>
    <div class="gramajes-list">
      {% assign productos_relacionados = product.metafields.custom.relacionados.value %}
      {% for producto in productos_relacionados %}
        {% assign es_activo = false %}
        {% if producto.id == product.id %}
          {% assign es_activo = true %}
        {% endif %}

        <a href="{{ producto.url }}" class="gramaje-item {% if es_activo %}active{% endif %}">
          {{ producto.metafields.custom.peso }}g Â· {{ producto.metafields.custom.sabor }}
        </a>
      {% endfor %}
    </div>
  </div>
{% endif %}


<style>
.gramajes-wrapper {
    margin-top: -40px;
}

  .gramajes-wrapper h5{
    margin:0
  }

  .gramajes-list {
    display: flex;
    gap: 10px;
    overflow-x: auto;
    white-space: nowrap;
    padding: 12px 0px;
    scrollbar-width: thin; /* Firefox */
  }

  a.gramaje-item {
    flex: 0 0 auto;
    padding: 6px 18px;
    border-radius: 12px;
    background-color: #ccc;
    color: black;
    text-decoration: none;
  }

  a.gramaje-item.active {
    background-color: white;
    border: 2px solid black;
  }
</style>

{% schema %}
{
  "name": "Relacionado",
  "tag": null,
  "settings": [
    {
      "type": "richtext",
      "id": "text-desc",
      "label": "Text Descrpicion"
    },
    {
      "type": "richtext",
      "id": "text-porcion",
      "label": "Text porcion"
    }
  ],
  "presets": [
    {
      "name": "Relacionado",
      "category": "Product"
    }
  ]
}
{% endschema %}
