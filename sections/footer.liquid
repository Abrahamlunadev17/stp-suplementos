<footer class="footer-custom color-{{ section.settings.color_scheme }}">

  <!-- SVG decorativo -->
  <span class="footer-svg-absolute">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 454 391"
      fill="none"
      preserveAspectRatio="none">
      <g style="mix-blend-mode:multiply" opacity="0.45">
        <path d="M0 390.752L142.882 207.044L11.6612 -5.56282e-05L142.882 -6.13641e-05L271.187 195.376L125.39 390.752L0 390.752Z" fill="#E23332" />
      </g>
      <g style="mix-blend-mode:multiply" opacity="0.45">
        <path d="M182 390.752L324.882 207.044L193.661 -5.56282e-05L324.882 -6.13641e-05L453.187 195.376L307.39 390.752L182 390.752Z" fill="#E23332" />
      </g>
    </svg>
  </span>

  <div class="footer-container-suplementos">

    <div class="grid-footer">
      <div class="wrapp-footer-menus">

        <div class="menus-grid">
          <!-- Menú izquierdo -->
          <div class="footer-column">
            {% if section.settings.menu_left != blank %}
              <ul class="footer-menu">
                {% for link in linklists[section.settings.menu_left].links %}
                  <li>
                    <a href="{{ link.url }}" class="footer-link">{{ link.title | upcase }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>

          <!-- Menú derecho -->
          <div class="footer-column">
            {% if section.settings.menu_right != blank %}
              <ul class="footer-menu">
                {% for link in linklists[section.settings.menu_right].links %}
                  <li>
                    <a href="{{ link.url }}" class="footer-link">{{ link.title | upcase   }}</a>
                  </li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        </div>

        <!-- Redes sociales -->
        <div class="footer-socials">
          {% for block in section.blocks %}
            {% if block.type == 'social_icon' and block.settings.icon != blank %}
              <a
                href="{{ block.settings.url }}"
                target="_blank"
                rel="noopener"
                class="social-link">
                <img src="{{ block.settings.icon | image_url: width: 40 }}" alt="{{ block.settings.title | escape }}">
              </a>
            {% endif %}
          {% endfor %}
        </div>

        <!-- Iconos de pago -->
        <div class="footer-payments">
          {% for block in section.blocks %}
            {% if block.type == 'payment_icon' and block.settings.icon != blank %}
              <img src="{{ block.settings.icon | image_url: width: 60 }}" alt="{{ block.settings.title | escape }}">
            {% endif %}
          {% endfor %}
        </div>

      </div>

      <!-- Logo -->
      <div class="footer-logo">
        {% if section.settings.logo %}
          <a href="/">
            <img src="{{ section.settings.logo | image_url: width: 200 }}" alt="{{ section.settings.logo_alt | escape }}">
          </a>
        {% endif %}
      </div>
    </div>

  </div>

  <!-- Copyright -->
  <div class="footer-copy">
    <p>{{ section.settings.copy_text }}</p>
    <span>DESIGN & CREATE BY <a href="https://amatoramx.com">AMATORA</a></span>
  </div>

</footer>

<style>
  .footer-custom {
    background-color: {{ section.settings.bg_color }};
    color: {{ section.settings.text_color }};
    padding: {{ section.settings.padding_top }}
    px 0{{ section.settings.padding_bottom }}px;
    position: relative;
    overflow: hidden;
    /* asegura que el SVG no se salga */
  }

  /* SVG decorativo */
  .footer-svg-absolute {
    position: absolute;
    inset: 0;
    z-index: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30%;
  }

  .footer-svg-absolute svg {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .footer-container-suplementos,
  .footer-copy {
    position: relative;
    z-index: 2;
  }

  .footer-container-suplementos {
    max-width: 1000px;
    margin: 0 auto;
    padding: 32px 24px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 24px;
  }

  .grid-footer {
    display: grid;
    grid-template-columns: 400px 1fr;
    justify-content: center;
    align-content: center;
    gap: 32px;
    width: 100%;
    align-items: center;
  }

  .wrapp-footer-menus {
    display: flex;
    flex-direction: column;
    gap: 24px;
    justify-content: center;
    align-items: center;
  }

  .menus-grid {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 32px;
    width: 70%;
  }

  .footer-column {
    text-align: center;
  }

  .footer-menu {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    text-align: left;
    flex-direction: column;
    gap: 8px;
  }

  .footer-link {
    text-decoration: none;
    color: inherit;
    transition: color 0.3s ease;
    font-family: 'HelveticaCondensedmMedium';
    font-size: 18px;
  }

  .footer-link:hover {
    color: {{ section.settings.link_hover_color }};
  }

  /* Logo */
  .footer-logo {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .footer-logo img {
    max-width: 400px;
    height: auto;
  }

  /* Redes sociales */
  .footer-socials {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin-top: 24px;
  }
  .footer-socials img {
    width: 32px;
    height: auto;
    transition: transform 0.2s;
  }
  .footer-socials img:hover {
    transform: scale(1.1);
  }

  /* Payments */
  .footer-payments {
    display: flex;
    gap: 12px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 16px;
  }
  .footer-payments img {
    height: 28px;
    object-fit: contain;
  }

  /* Copyright */
  .footer-copy {
    font-size: 14px;
    text-align: center;
    padding: 12px 0px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .grid-footer {
      display: flex;
      flex-direction: column;
    }
    .footer-copy {
      margin: 0;
    }
    .footer-container-suplementos {
      padding: 32px 24px;
    }
    .menus-grid {
      justify-content: space-between;
      width: 100%;
    }
    .wrapp-footer-menus {
      width: 100%;
    }
    .footer-menu {
      text-align: left;
    }

    .footer-svg-absolute {
      position: absolute;
      inset: 0;
      z-index: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
    }

    /* Ajuste del SVG en mobile */
    .footer-svg-absolute svg {
      width: 250%;
      height: auto;
    }
  }
</style>

{% schema %}
  {
    "name": "Footer personalizado",
    "tag": "footer",
    "class": "footer-custom",
    "settings": [
      {
        "type": "image_picker",
        "id": "logo",
        "label": "Logo del footer"
      },
      {
        "type": "text",
        "id": "logo_alt",
        "label": "Texto alternativo del logo",
        "default": "Logo"
      },
      {
        "type": "link_list",
        "id": "menu_left",
        "label": "Menú izquierdo"
      },
      {
        "type": "link_list",
        "id": "menu_right",
        "label": "Menú derecho"
      }, {
        "type": "text",
        "id": "copy_text",
        "label": "Texto de copyright",
        "default": "Copyright © 2025 Tu tienda"
      }, {
        "type": "color",
        "id": "bg_color",
        "label": "Color de fondo",
        "default": "#E23332"
      }, {
        "type": "color",
        "id": "text_color",
        "label": "Color del texto",
        "default": "#FFFFFF"
      }, {
        "type": "color",
        "id": "link_hover_color",
        "label": "Color hover enlaces",
        "default": "#FFD1D1"
      }, {
        "type": "range",
        "id": "padding_top",
        "label": "Padding superior",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 24
      }, {
        "type": "range",
        "id": "padding_bottom",
        "label": "Padding inferior",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 24
      }
    ],
    "blocks": [
      {
        "type": "social_icon",
        "name": "Ícono social",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Nombre de la red",
            "default": "Facebook"
          }, {
            "type": "image_picker",
            "id": "icon",
            "label": "Imagen del ícono"
          }, {
            "type": "url",
            "id": "url",
            "label": "Enlace"
          }
        ]
      }, {
        "type": "payment_icon",
        "name": "Ícono de pago",
        "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Nombre del método",
            "default": "Visa"
          }, {
            "type": "image_picker",
            "id": "icon",
            "label": "Imagen del ícono"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Footer personalizado",
        "category": "Pie de página"
      }
    ]
  }
{% endschema %}